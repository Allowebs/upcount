---
import Layout from "../layouts/main.astro";
import Download from "../components/Download.astro";
import { getLatestRelease } from "../utils/version";

const releaseData = await getLatestRelease();
if (!releaseData) {
  throw new Error('Failed to fetch latest release data from GitHub');
}
---

<Layout
  title="Upcount - Best Free Invoicing & Time Tracking for Freelancers"
  description="Free invoicing and time tracking desktop app for freelancers and small businesses. Easy invoice management, project time tracking, and PDF generation. Download for Mac and Linux."
>
  {/* Landing & Download */}
  <div class="max-w-6xl mx-auto px-4">
    <div class="mt-10">
      <div class="w-full">
        <h1 class="text-center text-4xl font-bold mb-6">
          Best free invoicing & time tracking<br /> for freelancers
        </h1>
        <ul class="flex justify-center space-x-4 mt-6">
          <li>
            <Download platform="mac-m1" releaseData={releaseData} />
          </li>
          <li>
            <Download platform="mac-intel" releaseData={releaseData} />
          </li>
          <!--
          <li>
            <Download platform="windows" releaseData={releaseData} />
          </li>
          -->
          <li>
            <Download platform="linux" releaseData={releaseData} />
          </li>
        </ul>
        <p class="text-center mt-4">
          Upcount is <strong>free</strong> to use and is available for Mac and Linux.
          <br />
          <small>Windows version is coming soon!</small>
        </p>
      </div>
    </div>
    <div class="flex justify-center mt-8">
      <div class="w-full max-w-4xl">
        <figure class="text-center">
          <img
            src="/illustration.svg"
            class="w-full max-w-2xl mx-auto"
            alt="Upcount invoicing app interface showcase with invoice management features"
            fetchpriority="high"
            loading="eager"
          />
          <figcaption class="text-right mt-4">
            <blockquote class="pl-4 italic">
              <p class="mb-0">"Cats will outsmart dogs every time."</p>
              <footer class="text-gray-600 text-sm mt-2">John Grogan</footer>
            </blockquote>
          </figcaption>
        </figure>
      </div>
    </div>
  </div>

  {/* Screenshots */}
  <div class="max-w-6xl mx-auto px-4">
    <div id="invoices-list" class="grid md:grid-cols-2 gap-8 items-center mt-40">
      <div class="md:order-last">
        <h2 class="text-3xl font-bold mb-4">Keep invoices in check</h2>
        <p class="text-gray-700 mb-4">
          Upcount is a beautifully-simple desktop app designed to help manage your invoicing. Easily keep track of
          invoice payments, overdue invoices via invoice states.
        </p>
        <ul class="space-y-2">
          <li>
            <span class="inline-block px-3 py-1 text-sm bg-gray-600 text-white rounded-full">Draft</span>
          </li>
          <li>
            <span class="inline-block px-3 py-1 text-sm bg-blue-600 text-white rounded-full">Confirmed</span>
          </li>
          <li>
            <span class="inline-block px-3 py-1 text-sm bg-green-700 text-white rounded-full">Paid</span>
          </li>
          <li>
            <span class="inline-block px-3 py-1 text-sm bg-yellow-700 text-white rounded-full">Overdue</span>
          </li>
          <li>
            <span class="inline-block px-3 py-1 text-sm bg-red-600 text-white rounded-full">Void</span>
          </li>
        </ul>
      </div>
      <div>
        <img
          src="screenshots/invoices.webp"
          class="w-full rounded-lg"
          alt="Upcount invoice list view showing draft, confirmed, paid, overdue and void invoice statuses"
        />
      </div>
    </div>
    <div id="timetracking" class="grid md:grid-cols-2 gap-8 items-center mt-40">
      <div>
        <h2 class="text-3xl font-bold mb-4">
          Time tracking
          <span class="inline-block px-3 py-1 text-sm bg-blue-600 text-white rounded-full align-top">
            <small>BETA</small>
          </span>
        </h2>
        <p class="text-gray-700 mb-4">Track time spent on projects and automatically convert to invoices.</p>
        <ul class="space-y-2 text-gray-700">
          <li>• Simple start/stop timer</li>
          <li>• Project-based time tracking</li>
          <li>• Tag time entries for better organization</li>
          <li>• Convert tracked hours to invoice line items</li>
          <li>• Export time reports</li>
        </ul>
      </div>
      <div class="h-64 flex items-center justify-center">
        <img src="screenshots/timetracking.webp" class="w-full rounded-lg" alt="Time tracking" />
      </div>
    </div>
    <div id="user-experience" class="grid md:grid-cols-2 gap-8 items-center mt-20">
      <div>
        <img src="screenshots/invoice-edit.webp" class="w-full rounded-lg" alt="Invoice editing" />
      </div>
      <div class="text-right">
        <h2 class="text-3xl font-bold mb-4">Interactive and clear invoice form</h2>
        <p class="text-gray-700">
          Easy to understand and use invoice creation interface.
          <br />
          <i>What you see is what you get.</i>
        </p>
      </div>
    </div>
    <div id="configurable" class="grid md:grid-cols-2 gap-8 items-center mt-20">
      <div>
        <h2 class="text-3xl font-bold mb-4">Configurable invoicing options</h2>
        <p class="text-gray-700 mb-4">Customize the invoices according to your needs and preferences.</p>
        <ul class="space-y-2 text-gray-700">
          <li>• Upload your company logo</li>
          <li>• Set payment terms & overdue charges</li>
          <li>• Set up tax rates</li>
        </ul>
      </div>
      <div>
        <img src="screenshots/settings.webp" class="w-full rounded-lg" alt="Invoice settings" />
      </div>
    </div>
  </div>
</Layout>
